language: csharp
dotnet: 3.1.201
mono: none
matrix:
  include:
    - os: linux
      dist: bionic
      before_install:
        - nvm use 11
        - sudo apt-get -qq update && sudo apt-get install -y graphviz
        - node --version
        - npm --version
    - os: osx
      addons:
        homebrew:
          update: true
          packages:
            - node
            - graphviz
script:
  - export PATH="$PATH:$HOME/.dotnet/tools"
  - dotnet tool install -g Cake.Tool --version 0.37.0
  - dotnet cake build.cake
  - dotnet cake build.cake --target=Run-Unit-Tests
  # enable doc building when docfx v3 is available
  # as it will be implemented as a dotnet tool
  #- dotnet cake build.cake --target=Build-Docs